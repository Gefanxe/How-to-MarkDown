(function(t){function a(a){for(var s,n,r=a[0],c=a[1],l=a[2],u=0,p=[];u<r.length;u++)n=r[u],o[n]&&p.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(s=!1)}s&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},o={app:0},i=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/LearningGitHub/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var l=0;l<r.length;l++)a(r[l]);var d=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0f1c":function(t,a,e){"use strict";var s=e("fa47"),o=e.n(s);o.a},1715:function(t,a,e){"use strict";var s=e("371b"),o=e.n(s);o.a},"371b":function(t,a,e){},"4a56":function(t,a,e){"use strict";var s=e("eec5"),o=e.n(s);o.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var s=e("bc3a"),o=e.n(s),i=(e("4989"),e("9062")),n=e.n(i),r=(e("e40d"),e("427f")),c=e.n(r),l=e("7bb1"),d=e("2b0e"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Alert"),e("div",{attrs:{id:"container"}},[e("router-view")],1)],1)},p=[],m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v("\n    "+t._s(a.message)+"\n    "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}))},v=[],g=(e("ac6a"),{name:"Alert",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.forEach(function(e,s){e.timestamp===t&&a.messages.splice(s,1)})},1500)}},created:function(){var t=this;t.$bus.$on("message:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)})}}),f=g,h=(e("1715"),e("2877")),_=Object(h["a"])(f,m,v,!1,null,null,null);_.options.__file="Alert.vue";var b=_.exports,C={components:{Alert:b},methods:{},created:function(){}},x=C,k=(e("5c0b"),Object(h["a"])(x,u,p,!1,null,null,null));k.options.__file="App.vue";var y=k.exports,w=e("8c4f"),$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light justify-content-between"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"ShowCustProducts"}}},[t._v("Navbar")]),e("div",{staticClass:"d-flex"},[e("ul",[e("li",{staticClass:"li1",on:{mouseover:function(a){t.mouseOver(!0)},mouseout:function(a){t.mouseOver(!1)}}},[e("router-link",{staticClass:"hover_for",attrs:{to:{name:"ToCartPage"}}},[t._v("購物車")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.codidi,expression:"codidi"}],staticClass:" showOrder"},[e("CartList",{attrs:{page:"no"}})],1)],1)]),e("router-link",{staticClass:"mx-4",attrs:{to:{name:"Login"}}},[t._v("登入")])],1)],1),e("router-view")],1)},P=[],M=e("1157"),O=e.n(M),L=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.cart.total?e("table",{staticClass:"table w-75 mx-auto"},[t._m(0),e("tbody",t._l(t.cart.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.delCart(a.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"align-middle"},[t._v("\n          "+t._s(a.product.title)+"\n          "),a.coupon?e("div",{staticClass:"text-success"},[t._v("\n            已套用優惠券\n          ")]):t._e()]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])]),e("tr",[t.cart.final_total<t.cart.total?e("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]):t._e(),t.cart.final_total<t.cart.total?e("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.cart.final_total)))]):t._e()]),"no"!==t.page?e("tr",[e("td",{attrs:{colspan:"4"}},[e("div",{staticClass:"input-group input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.code},on:{input:function(a){a.target.composing||(t.code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"submit"},on:{click:t.useCoupon}},[t._v("\n                套用優惠碼\n              ")])])])])]):t._e(),"no"!==t.page?e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}}),e("td",{staticClass:"text-right"},["home"===t.page?e("a",{staticClass:"btn btn-info btn-lg text-white",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goChange(a)}}},[t._v("付款去~")]):t._e(),"eProduct"===t.page?e("router-link",{staticClass:"btn btn-info btn-lg text-white",attrs:{to:{name:"CheckOut"}}},[t._v("付款去~")]):t._e()],1)]):t._e()])]):t._e()])},N=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",{attrs:{width:"80"}},[t._v("單價")])])}],j={props:["page"],data:function(){return{cart:{},code:""}},components:{},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/cart");this.$http.get(a).then(function(a){console.log("getCart",a),a.data.success?t.cart=a.data.data:t.$bus.$emit("message:push",a.data.message,"danger")})},delCart:function(t){var a=this,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/cart/").concat(t);this.$http.delete(s).then(function(t){console.log("delCart",t),t.data.success?e.$bus.$emit("message:push",t.data.message,"warning"):e.$bus.$emit("message:push",t.data.message,"danger"),a.getCart()})},useCoupon:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/coupon");this.$http.post(e,{data:{code:a.code}}).then(function(e){console.log("useCoupon",e),e.data.success?(a.$bus.$emit("message:push",e.data.message,"success"),console.log("use coupon success")):a.$bus.$emit("message:push",e.data.message,"danger"),t.getCart(),a.code=""})},goChange:function(){this.$emit("goChange")}},created:function(){var t=this;t.getCart(),t.$bus.$on("getCart",function(){t.getCart()})}},E=j,D=Object(h["a"])(E,L,N,!1,null,null,null);D.options.__file="cartList.vue";var q=D.exports,A={name:"home",data:function(){return{codidi:!1}},components:{CartList:q},methods:{mouseOver:function(t){this.codidi=t}},created:function(){this.$router.push({name:"ShowCustProducts"})}},S=A,T=(e("dd0e"),Object(h["a"])(S,$,P,!1,null,"232c3097",null));T.options.__file="Home.vue";var F=T.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-2"},[e("div",{staticClass:"nav flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[e("a",{staticClass:"nav-link active",attrs:{id:"v-pills-home-tab","data-toggle":"pill",href:"#v-pills-home",role:"tab","aria-controls":"v-pills-home","aria-selected":"true"},on:{click:function(a){a.preventDefault(),t.custapi="forpeter"}}},[t._v("男裝")]),e("a",{staticClass:"nav-link",attrs:{id:"v-pills-profile-tab","data-toggle":"pill",href:"#v-pills-profile",role:"tab","aria-controls":"v-pills-profile","aria-selected":"false"},on:{click:function(a){a.preventDefault(),t.custapi="forwomen"}}},[t._v("女裝")]),e("a",{staticClass:"nav-link",attrs:{id:"v-pills-messages-tab","data-toggle":"pill",href:"#v-pills-messages",role:"tab","aria-controls":"v-pills-messages","aria-selected":"false"},on:{click:function(a){a.preventDefault(),t.custapi="forkids"}}},[t._v("童裝")]),e("a",{staticClass:"nav-link",attrs:{id:"v-pills-settings-tab","data-toggle":"pill",href:"#v-pills-settings",role:"tab","aria-controls":"v-pills-settings","aria-selected":"false"},on:{click:function(a){a.preventDefault(),t.custapi="foract"}}},[t._v("活動特賣")])])]),e("div",{staticClass:"tab-content col-10",attrs:{id:"v-pills-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-pills-home",role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},[e("keep-alive",["forpeter"==t.custapi?e("HomeModal",{attrs:{cusapi:t.custapi}}):t._e()],1)],1),e("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-profile",role:"tabpanel","aria-labelledby":"v-pills-profile-tab"}},[e("keep-alive",["forwomen"==t.custapi?e("HomeModal",{attrs:{cusapi:t.custapi}}):t._e()],1)],1),e("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-messages",role:"tabpanel","aria-labelledby":"v-pills-messages-tab"}},[e("keep-alive",["forkids"==t.custapi?e("HomeModal",{attrs:{cusapi:t.custapi}}):t._e()],1)],1),t._m(0)]),e("div",{staticClass:"col-9"})])},H=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-settings",role:"tabpanel","aria-labelledby":"v-pills-settings-tab"}},[t._v("\n      你還期待著特賣活動阿？ "),e("br"),t._v("\n      2020年2/31日準時開賣！\n    ")])}],z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){t.$set(t.status,"isLoading",a)}}}),e("div",{staticClass:"card_group"},t._l(t.products,function(a,s){return a.is_enabled?e("div",{key:s,staticClass:"card border-0 shadow-sm mx-1 my-3 cusor_all",on:{click:function(e){t.openModal(a)}}},[e("div",{staticStyle:{height:"300px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.image+" ) "}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v("分類")]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(a.origin_price)+" 元")]),a.price?e("del",{staticClass:"h6"},[t._v("原價 "+t._s(a.origin_price)+" 元")]):t._e(),a.price?e("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(a.price)+" 元")]):t._e()])])]):t._e()})),e("FloatModla",{attrs:{product:t.product,cusapi:t.cusapi}})],1)},W=[],V=(e("f751"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){t.changePagination(t.pagination.current_page-1)}}},[t._v("Previous")])]),t._l(t.pagination.total_pages,function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:t.pagination.current_page==a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.changePagination(a)}}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.changePagination(t.pagination.current_page+1)}}},[t._v("Next")])])],2)])}),G=[],J=(e("c5f6"),{props:{pagination:Object},methods:{changePagination:function(t){this.$emit("pagination",Number(t))}}}),B=J,U=Object(h["a"])(B,V,G,!1,null,null,null);U.options.__file="pagination.vue";var K=U.exports,Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-primary text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v(t._s(t.product.title)+" ")])]),t._m(0)]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("img",{staticClass:"img-fluid",attrs:{src:t.product.image,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("p",[t._v(t._s(t.product.title)+" ")])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t.product.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(t.product.origin_price)+" 元")]),e("div",[t.product.price?e("del",{staticClass:"h5"},[t._v(t._s(t.product.origin_price)+" 元")]):t._e()])]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t.product.price?e("div",{staticClass:"h5"},[t._v(" "+t._s(t.product.price)+" 元")]):t._e()])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("p",[t._v(t._s(t.product.description)+" ")])]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("p",[t._v(t._s(t.product.content)+" ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.qty,expression:"qty"}],attrs:{name:"qyt",id:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.qty=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"1",selected:""}},[t._v(" 1 "+t._s(t.product.unit)+" ")]),t._l(9,function(a,s){return e("option",{key:s,domProps:{value:a+1}},[t._v(" "+t._s(a+1)+" "+t._s(t.product.unit))])})],2),e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){t.addToCart(t.product.id,t.qty)}}},[t._v("確認")])])])])])},R=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],X={props:["product","isNew","cusapi"],data:function(){return{qty:1}},methods:{addToCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat(e.cusapi,"/cart"),o={product_id:t,qty:a};console.log(o),this.$http.post(s,{data:o}).then(function(t){console.log("addToCart success",t),t.data.success?(O()("#productModal").modal("hide"),e.qty=1,e.$bus.$emit("getCart")):(console.log("addToCart failed, try again"),e.$bus.$emit("message:push",t.data.message,"danger"),O()("#productModal").modal("hide"))})}},created:function(){var t=this;t.$bus.$on("addCart",function(a){return t.addToCart(a)})}},Y=X,Z=Object(h["a"])(Y,Q,R,!1,null,null,null);Z.options.__file="vieweProductsModal.vue";var tt=Z.exports,at={name:"home",props:{cusapi:String},data:function(){return{products:"",product:{},pagination:{},status:{isLoading:!1,moreLoading:!1,cartLoading:!1}}},components:{Pagination:K,FloatModla:tt},methods:{getProducts:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this;t.status.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat(t.cusapi,"/products/all");this.$http.get(a).then(function(a){a.data.success?(console.log("geteProducts",a),t.products=a.data.products,t.pagination=a.data.pagination):t.$bus.$emit("message:push",a.data.message,"danger"),t.status.isLoading=!1})},openModal:function(t){this.status.isLoading=!0,this.product=Object.assign({},t),O()("#productModal").modal("show"),this.status.isLoading=!1}},watch:{cusapi:function(){this.getProducts()}},created:function(){this.getProducts()}},et=at,st=(e("bc1f"),Object(h["a"])(et,z,W,!1,null,"6150d25d",null));st.options.__file="cardModal.vue";var ot=st.exports,it={data:function(){return{custapi:"forpeter"}},components:{HomeModal:ot},methods:{},created:function(){}},nt=it,rt=Object(h["a"])(nt,I,H,!1,null,null,null);rt.options.__file="ShowCustProducts.vue";var ct=rt.exports,lt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.goCheck?t._e():e("CartList",{attrs:{page:"home"},on:{goChange:t.changeValue}}),t.goCheck?e("CheckOut"):t._e()],1)},dt=[],ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-5 row justify-content-center"},[t.orderID?t._e():e("form",{staticClass:"col-6 mr-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email","data-vv-as":"E-Mail",required:""},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名","data-vv-as":"姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("name")))])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),e("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|digits:10",expression:"'required|digits:10'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",name:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t.errors.has("tel")?e("span",{staticClass:"text-danger"},[t._v("手機號碼為10碼")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"address",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"3"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:function(a){return a.preventDefault(),t.postOrder(a)}}},[t._v("送出訂單")])])]),t.orderID?e("form",{staticClass:"col-md-8",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[a.product.title?e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]):t._e(),e("td",{staticClass:"align-middle"},[t._v(t._s(a.qty)+"/"+t._s(a.product.unit))]),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.final_total))])])})),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t.order.total))])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v("Email")]),t.order.user?e("td",[t._v(t._s(t.order.user.email))]):t._e()]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger",on:{click:function(a){return a.preventDefault(),t.payOrder(a)}}},[t._v("確認付款去")])]):t._e()]):t._e()])},pt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])}],mt={props:{},data:function(){return{order:{},orderID:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/pay/").concat(t.orderID);this.$http.post(a).then(function(a){console.log("payOrder",a),a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getOrder()):t.$bus.$emit("message:push",a.data.message,"danger")})},getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/order/").concat(t.orderID);this.$http.get(a).then(function(a){console.log("delCart",a),a.data.success?(t.order=a.data.order,console.log(t.order)):t.$bus.$emit("message:push",a.data.message,"danger")})},postOrder:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/order");this.$validator.validate().then(function(s){s?t.$http.post(e,{data:a.form}).then(function(t){console.log("postOrder",t),t.data.success?(a.$bus.$emit("message:push",t.data.message,"success"),console.log("postOrder success"),a.orderID=t.data.orderId,a.getOrder()):a.$bus.$emit("message:push",t.data.message,"danger")}):a.$bus.$emit("message:push","欄位不完整","danger")})}},created:function(){console.log(this.order)}},vt=mt,gt=Object(h["a"])(vt,ut,pt,!1,null,null,null);gt.options.__file="CheckOut.vue";var ft=gt.exports,ht={props:{},data:function(){return{goCheck:!1,page:"home"}},components:{CartList:q,CheckOut:ft},methods:{changeValue:function(){this.goCheck=!this.goCheck}},created:function(){}},_t=ht,bt=Object(h["a"])(_t,lt,dt,!1,null,null,null);bt.options.__file="ToCartPage.vue";var Ct=bt.exports,xt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.signin(a)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("請登入")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"帳號",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"密碼",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._m(0),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("登入")])])])},kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" 記住登入訊息\n      ")])])}],yt={data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/admin/signin");this.$http.post(e,a.user).then(function(a){console.log("signin",a.data),t.$router.push({name:"Products"}),t.$bus.$emit("message:push","歡迎回來","success")})}}},wt=yt,$t=(e("0f1c"),Object(h["a"])(wt,xt,kt,!1,null,"74235b79",null));$t.options.__file="Login.vue";var Pt=$t.exports,Mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("Navbar"),e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("Sidebar")],1)]),e("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[e("router-view")],1)],1)},Ot=[],Lt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[e("router-link",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0 text-white",staticStyle:{"user-select":"none"},attrs:{to:{name:"ShowCustProducts"}}},[t._v("慢工出細活商店")]),e("ul",{staticClass:"navbar-nav px-3"},[e("li",{staticClass:"nav-item text-nowrap"},[e("a",{staticClass:"nav-link",staticStyle:{"user-select":"none"},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("登出")])])])],1)},Nt=[],jt={methods:{signout:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/logout");this.$http.post(a).then(function(a){console.log("signout",a.data),a.data.success&&t.$router.push("/home")})}}},Et=jt,Dt=(e("4a56"),Object(h["a"])(Et,Lt,Nt,!1,null,"71bd4dea",null));Dt.options.__file="navbar.vue";var qt=Dt.exports,At=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[e("div",{staticClass:"sidebar-sticky"},[t._m(0),e("ul",{staticClass:"nav flex-column"},[e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link",class:{"text-danger":"product"==t.choose},attrs:{to:{name:"Products"}}},[e("span",{attrs:{"data-feather":"file"},on:{click:function(a){t.choose="product"}}},[t._v("商品登錄")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{"text-danger":"coupon"==t.choose},attrs:{to:{name:"Coupons"}}},[e("span",{attrs:{"data-feather":"shopping-cart"},on:{click:function(a){t.choose="coupon"}}},[t._v("優惠券登錄")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{"text-danger":"order"==t.choose},attrs:{to:{name:"Orders"}}},[e("span",{attrs:{"data-feather":"users"},on:{click:function(a){t.choose="order"}}},[t._v("訂單收錄")])])],1)]),t._m(1),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{"text-danger":"eproduct"==t.choose},attrs:{to:{name:"eProdoucts"}}},[e("span",{attrs:{"data-feather":"file-text"},on:{click:function(a){t.choose="eproduct"}}},[t._v("商品列表")])])],1)])])])},St=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h4",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",{staticStyle:{"user-select":"none"}},[t._v("賣家管理")]),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h4",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"},[e("span",{staticStyle:{"user-select":"none"}},[t._v("模擬買家")]),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])}],Tt={data:function(){return{choose:"product"}}},Ft=Tt,It=Object(h["a"])(Ft,At,St,!1,null,null,null);It.options.__file="sidebar.vue";var Ht=It.exports,zt={name:"admin",components:{Navbar:qt,Sidebar:Ht},methods:{},created:function(){}},Wt=zt,Vt=(e("c2bb"),Object(h["a"])(Wt,Mt,Ot,!1,null,"87051b6a",null));Vt.options.__file="Admin.vue";var Gt=Vt.exports,Jt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){t.$set(t.status,"isLoading",a)}}}),e("div",{staticClass:"mt4 d-flex justify-content-between"},[e("div",[e("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(a){t.clickChange("forpeter")}}},[t._v("男裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(a){t.clickChange("forwomen")}}},[t._v("女裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(a){t.clickChange("forkids")}}},[t._v("童裝")])]),e("button",{staticClass:"btn btn-primary",on:{click:function(a){t.openModal(!0)}}},[t._v("新增優惠券")])]),e("table",{staticClass:"table mt-4 w-75 mx-auto"},[t._m(0),e("tbody",t._l(t.coupons,function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",{staticClass:"text-left"},[t._v(t._s(a.title))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.percent))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.due_date))]),e("td",{staticClass:"text-right"},[t._v(t._s(a.code))]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){t.openModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-3",on:{click:function(e){t.openDelModal(a)}}},[t._v("刪除")])])])}))]),t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination},on:{pagination:t.getCoupons}}):t._e(),e("ProductModal",{attrs:{coupon:t.coupon,"is-new":t.isNew,click:t.click},on:{"get-coupon":t.getCoupons}}),e("DelModal",{attrs:{product:t.coupon,value:t.del_value,click:t.click},on:{"get-product":t.getCoupons}})],1)},Bt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",{staticClass:"text-left"},[t._v("名稱")]),e("th",{attrs:{width:"110"}},[t._v("折扣百分比")]),e("th",{attrs:{width:"120"}},[t._v("到期日")]),e("th",{staticClass:"text-right"},[t._v("序號")]),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),e("th",{attrs:{width:"200"}},[t._v("編輯")])])])}],Ut=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"Modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.title,expression:"coupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入優惠券名稱"},domProps:{value:t.coupon.title},on:{input:function(a){a.target.composing||t.$set(t.coupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.percent,expression:"coupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入折扣百分比"},domProps:{value:t.coupon.percent},on:{input:function(a){a.target.composing||t.$set(t.coupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.due_date,expression:"coupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"price",placeholder:"請輸入期限"},domProps:{value:t.coupon.due_date},on:{input:function(a){a.target.composing||t.$set(t.coupon,"due_date",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("優惠券序號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.code,expression:"coupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"price",placeholder:"請輸入序號"},domProps:{value:t.coupon.code},on:{input:function(a){a.target.composing||t.$set(t.coupon,"code",a.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon.is_enabled,expression:"coupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.coupon.is_enabled)?t._i(t.coupon.is_enabled,null)>-1:t._q(t.coupon.is_enabled,1)},on:{change:function(a){var e=t.coupon.is_enabled,s=a.target,o=s.checked?1:0;if(Array.isArray(e)){var i=null,n=t._i(e,i);s.checked?n<0&&t.$set(t.coupon,"is_enabled",e.concat([i])):n>-1&&t.$set(t.coupon,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.coupon,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                  是否啟用\n                ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.buildCoupon}},[t._v("確認")])])])])])},Kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增優惠券")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Qt={props:["coupon","isNew","click"],data:function(){return{status:{fileLoading:!1}}},methods:{buildCoupon:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/coupon"),s="post";a.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/coupon/").concat(a.coupon.id),s="put"),this.$http[s](e,{data:a.coupon}).then(function(e){console.log("buildCoupon success",e),e.data.success?O()("#Modal").modal("hide"):(console.log("buildCoupon failed, try again"),a.$bus.$emit("message:push",e.data.message,"danger"),O()("#Modal").modal("hide")),t.$emit("get-coupon")})}}},Rt=Qt,Xt=Object(h["a"])(Rt,Ut,Kt,!1,null,null,null);Xt.options.__file="couponModal.vue";var Yt=Xt.exports,Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[t._v("\n        是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.product.title))]),t._v(" (刪除後將無法恢復)。\n      ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delProduct}},[t._v("確認刪除")])])])])])},ta=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],aa={props:["product","value","click"],data:function(){return{}},methods:{delProduct:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/").concat(a.value,"/").concat(a.product.id);this.$http.delete(e).then(function(a){console.log("delProduct success",a),a.data.success?O()("#delProductModal").modal("hide"):(console.log("delProduct failed, try again"),O()("#delProductModal").modal("hide")),t.$emit("get-product")})}}},ea=aa,sa=Object(h["a"])(ea,Zt,ta,!1,null,null,null);sa.options.__file="deleteModal.vue";var oa=sa.exports,ia={data:function(){return{coupons:"",coupon:{},click:"forpeter",del_value:"coupon",pagination:{},isNew:!1,status:{isLoading:!1}}},components:{Pagination:K,ProductModal:Yt,DelModal:oa},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/coupons?page=").concat(t);this.$http.get(e).then(function(t){t.data.success?(console.log("getCoupons",t),a.coupons=t.data.coupons,a.pagination=t.data.pagination):a.$bus.$emit("message:push",t.data.message,"danger"),a.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getProducts()},openModal:function(t,a){t?(this.coupon={},this.isNew=!0):(this.coupon=Object.assign({},a),this.isNew=!1),O()("#Modal").modal("show")},openDelModal:function(t){this.coupon=Object.assign({},t),O()("#delProductModal").modal("show")}},created:function(){this.getCoupons()}},na=ia,ra=Object(h["a"])(na,Jt,Bt,!1,null,null,null);ra.options.__file="Coupons.vue";var ca=ra.exports,la=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){t.$set(t.status,"isLoading",a)}}}),e("div",{staticClass:"mt4 d-flex justify-content-between"},[e("div",[e("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(a){t.clickChange("forpeter")}}},[t._v("男裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(a){t.clickChange("forwomen")}}},[t._v("女裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(a){t.clickChange("forkids")}}},[t._v("童裝")])]),e("button",{staticClass:" btn btn-primary",on:{click:function(a){t.openModal(!0)}}},[t._v("新增產品")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.products,function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",[t._v(t._s(a.category))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.title))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.origin_price)))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.price)))]),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){t.openModal(!1,a)}}},[t._v("編輯")]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-1",on:{click:function(e){t.openDelModal(a)}}},[t._v("刪除")])])])}))]),e("ProductModal",{attrs:{product:t.product,"is-new":t.isNew,click:t.click},on:{"get-product":t.getProducts}}),e("Pagination",{attrs:{pagination:t.pagination},on:{pagination:t.getProducts}}),e("DelModal",{attrs:{product:t.product,value:t.del_value,click:t.click},on:{"get-product":t.getProducts}})],1)},da=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"120"}},[t._v("分類")]),e("th",{staticClass:"text-left"},[t._v("產品名稱")]),e("th",{attrs:{width:"80"}},[t._v("原價")]),e("th",{attrs:{width:"80"}},[t._v("售價")]),e("th",{attrs:{width:"100"}},[t._v("是否啟用")]),e("th",{attrs:{width:"130"}},[t._v("編輯")])])])}],ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image,expression:"product.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.product.image},on:{input:function(a){a.target.composing||t.$set(t.product,"image",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("或 上傳圖片\n                "),t.status.fileLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:t.uploadFile}})]),e("img",{staticClass:"img-fluid",attrs:{src:t.product.image,alt:""}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.title,expression:"product.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.product.title},on:{input:function(a){a.target.composing||t.$set(t.product,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.category,expression:"product.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.product.category},on:{input:function(a){a.target.composing||t.$set(t.product,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.unit,expression:"product.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.product.unit},on:{input:function(a){a.target.composing||t.$set(t.product,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.origin_price,expression:"product.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.product.origin_price},on:{input:function(a){a.target.composing||t.$set(t.product,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.product.price},on:{input:function(a){a.target.composing||t.$set(t.product,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.product.description},on:{input:function(a){a.target.composing||t.$set(t.product,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.content,expression:"product.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.product.content},on:{input:function(a){a.target.composing||t.$set(t.product,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.is_enabled,expression:"product.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0},domProps:{checked:Array.isArray(t.product.is_enabled)?t._i(t.product.is_enabled,null)>-1:t._q(t.product.is_enabled,1)},on:{change:function(a){var e=t.product.is_enabled,s=a.target,o=s.checked?1:0;if(Array.isArray(e)){var i=null,n=t._i(e,i);s.checked?n<0&&t.$set(t.product,"is_enabled",e.concat([i])):n>-1&&t.$set(t.product,"is_enabled",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.product,"is_enabled",o)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("\n                  是否啟用\n                ")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.buildProduct}},[t._v("確認")])])])])])},pa=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ma={props:["product","isNew","click"],data:function(){return{status:{fileLoading:!1}}},methods:{buildProduct:function(){var t=this,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/product"),s="post";a.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/product/").concat(a.product.id),s="put"),this.$http[s](e,{data:a.product}).then(function(e){console.log("buildProduct success",e),e.data.success?O()("#productModal").modal("hide"):(console.log("buildProduct failed, try again"),a.$bus.$emit("message:push",e.data.message,"danger"),O()("#productModal").modal("hide")),t.$emit("get-product")})},uploadFile:function(){var t=this.$refs.files.files[0],a=this,e=new FormData;a.status.fileLoading=!0,e.append("file-to-uploads",t);var s="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/upload");this.$http.post(s,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log("uploadFile",t),t.data.success?a.$set(a.product,"image",t.data.imageUrl):(console.log("uploadFile failed, try again"),a.$bus.$emit("message:push",t.data.message,"danger")),a.status.fileLoading=!1})}}},va=ma,ga=Object(h["a"])(va,ua,pa,!1,null,null,null);ga.options.__file="BulidAndEditModal.vue";var fa=ga.exports,ha={data:function(){return{products:"",click:"forpeter",product:{},del_value:"product",pagination:{},isNew:!1,status:{isLoading:!1}}},components:{ProductModal:fa,DelModal:oa,Pagination:K},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/products?page=").concat(t);this.$http.get(e).then(function(t){t.data.success?(console.log("getProducts",t),a.products=t.data.products,a.pagination=t.data.pagination):a.$bus.$emit("message:push",t.data.message,"danger"),a.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getProducts()},openModal:function(t,a){t?(this.product={},this.isNew=!0):(this.product=Object.assign({},a),this.isNew=!1),O()("#productModal").modal("show")},openDelModal:function(t){this.product=Object.assign({},t),O()("#delProductModal").modal("show")}},created:function(){this.getProducts()}},_a=ha,ba=(e("6f35"),Object(h["a"])(_a,la,da,!1,null,"41e43a1e",null));ba.options.__file="Products.vue";var Ca=ba.exports,xa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){t.$set(t.status,"isLoading",a)}}}),e("div",[e("span",{staticClass:"badge badge-pill mx-2",class:{"badge-primary":"forpeter"==t.click,"badge-light":"forpeter"!==t.click},on:{click:function(a){t.clickChange("forpeter")}}},[t._v("男裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forwomen"==t.click,"badge-light":"forwomen"!==t.click},on:{click:function(a){t.clickChange("forwomen")}}},[t._v("女裝")]),e("span",{staticClass:"badge badge-pill mx-1",class:{"badge-primary":"forkids"==t.click,"badge-light":"forkids"!==t.click},on:{click:function(a){t.clickChange("forkids")}}},[t._v("童裝")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.orders,function(a){return e("tr",{key:a.id,staticClass:"text-center"},[e("td",[t._v(t._s(a.create_at))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.user.email))]),e("td",{staticClass:"text-left"},t._l(a.products,function(a,s){return e("div",{key:s},[t._v(t._s(a.product.title)+" "+t._s(a.qty)+" "+t._s(a.product.unit))])})),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))]),e("td",[a.is_paid?e("span",{staticClass:"text-success"},[t._v("已付款")]):e("span",[t._v("未付款")])])])}))]),t.pagination.total_pages>1?e("Pagination",{attrs:{pagination:t.pagination},on:{pagination:t.getOrders}}):t._e()],1)},ka=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",{staticClass:"text-center"},[e("th",{attrs:{width:"120"}},[t._v("購買時間")]),e("th",{staticClass:"text-left",attrs:{width:"120"}},[t._v("E-mail")]),e("th",{staticClass:"text-left",attrs:{width:"220"}},[t._v("購買款項")]),e("th",{attrs:{width:"80"}},[t._v("應付金額")]),e("th",{attrs:{width:"100"}},[t._v("是否付款")])])])}],ya={data:function(){return{orders:{},order:{},click:"forpeter",products:{},pagination:{},isNew:!1,status:{isLoading:!1}}},components:{Pagination:K,ProductModal:fa},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat(a.click,"/admin/orders?page=").concat(t);this.$http.get(e,a.user).then(function(t){t.data.success?(console.log("getOrders",t),a.orders=t.data.orders,a.pagination=t.data.pagination):a.$bus.$emit("message:push",t.data.message,"danger"),a.status.isLoading=!1})},clickChange:function(t){this.click=t,this.getProducts()}},computed:{},created:function(){this.getOrders()}},wa=ya,$a=Object(h["a"])(wa,xa,ka,!1,null,null,null);$a.options.__file="Orders.vue";var Pa=$a.exports,Ma=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.status.isLoading},on:{"update:active":function(a){t.$set(t.status,"isLoading",a)}}}),e("div",{staticClass:"row mt-4"},t._l(t.products,function(a,s){return e("div",{key:s,staticClass:"col-md-4 mb-4"},[e("div",{staticClass:"card border-0 shadow-sm"},[e("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.image+" ) "}}),e("div",{staticClass:"card-body"},[e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v("分類")]),e("h5",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),e("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h5"},[t._v(t._s(a.origin_price)+" 元")]),a.price?e("del",{staticClass:"h6"},[t._v("原價 "+t._s(a.origin_price)+" 元")]):t._e(),a.price?e("div",{staticClass:"h5"},[t._v("現在只要 "+t._s(a.price)+" 元")]):t._e()])]),e("div",{staticClass:"card-footer d-flex"},[e("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(e){t.openModal(!1,a)}}},[t.status.moreLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            查看更多\n          ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){t.addtocart(a.id)}}},[t.status.carLoaging?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n            加到購物車\n          ")])])])])})),e("Pagination",{attrs:{pagination:t.pagination},on:{pagination:t.getProducts}}),e("CartList",{staticClass:"mt-5",attrs:{page:"eProduct"}}),e("ProductModal",{attrs:{product:t.product,"is-new":t.isNew}})],1)},Oa=[],La={data:function(){return{products:"",product:{},page:"eProduct",del_value:"product",pagination:{},isNew:!1,status:{isLoading:!1,carLoaging:!1,moreLoading:!1}}},components:{ProductModal:tt,CartList:q,Pagination:K},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.status.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("forpeter","/products?page=").concat(t);this.$http.get(e).then(function(t){t.data.success?(console.log("geteProducts",t),a.products=t.data.products,a.pagination=t.data.pagination):a.$bus.$emit("message:push",t.data.message,"danger"),a.status.isLoading=!1})},openModal:function(t,a){this.status.moreLoading=!0,t?(this.product={},this.isNew=!0):(this.product=Object.assign({},a),this.isNew=!1),O()("#productModal").modal("show"),this.status.moreLoading=!1},openDelModal:function(t){this.product=Object.assign({},t),O()("#delProductModal").modal("show")},addtocart:function(t){this.status.carLoaging=!0,this.$bus.$emit("addCart",t),this.status.carLoaging=!1}},created:function(){this.getProducts()}},Na=La,ja=(e("e956"),Object(h["a"])(Na,Ma,Oa,!1,null,"49cb52c6",null));ja.options.__file="eProdoucts.vue";var Ea=ja.exports;d["a"].use(w["a"]);var Da=new w["a"]({mode:"history",base:"/LearningGitHub/",routes:[{path:"*",redirect:"/home"},{path:"/",name:"Home",component:F,children:[{path:"home",name:"ShowCustProducts",component:ct},{path:"cart",name:"ToCartPage",component:Ct}]},{path:"/login",name:"Login",component:Pt},{path:"/admin",name:"Admin",component:Gt,children:[{path:"products",name:"Products",component:Ca,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:ca,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:Pa,meta:{requiresAuth:!0}},{path:"eproducts",name:"eProdoucts",component:Ea},{path:"check",name:"CheckOut",component:ft}]}]});d["a"].prototype.$bus=new d["a"];var qa=function(t){return new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(t)};d["a"].use(l["a"]),l["a"].Validator.localize("tw",c.a),d["a"].config.productionTip=!1,d["a"].prototype.$http=o.a,o.a.defaults.withCredentials=!0,d["a"].component("Loading",n.a),d["a"].filter("currency",qa),Da.beforeEach(function(t,a,e){if(console.log("to",t,"from",a,"next",e),t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(s).then(function(t){console.log("check",t.data),t.data.success?e():e({path:"/login"})})}else e()}),new d["a"]({router:Da,render:function(t){return t(y)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var s=e("5e27"),o=e.n(s);o.a},"5e27":function(t,a,e){},"6f35":function(t,a,e){"use strict";var s=e("d6ec"),o=e.n(s);o.a},adb3:function(t,a,e){},bc1f:function(t,a,e){"use strict";var s=e("adb3"),o=e.n(s);o.a},c2bb:function(t,a,e){"use strict";var s=e("d482"),o=e.n(s);o.a},d482:function(t,a,e){},d592:function(t,a,e){},d6ec:function(t,a,e){},dd0e:function(t,a,e){"use strict";var s=e("d592"),o=e.n(s);o.a},e956:function(t,a,e){"use strict";var s=e("fc49"),o=e.n(s);o.a},eec5:function(t,a,e){},fa47:function(t,a,e){},fc49:function(t,a,e){}});
//# sourceMappingURL=app.8e5ac5b2.js.map